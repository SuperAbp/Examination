@using Volo.Abp.AspNetCore.Components.Web.BasicTheme.Themes.Basic
@using Volo.Abp.DependencyInjection
@using Volo.Abp.Ui.LayoutHooks
@using Volo.Abp.AspNetCore.Components.Web.Theming.Components.LayoutHooks
@using Volo.Abp.AspNetCore.Components.Web.Theming.Components
@using Volo.Abp.AspNetCore.Components.Web.Theming.Layout
@inherits MainLayout
@attribute [ExposeServices(typeof(MainLayout))]
@attribute [Dependency(ReplaceServices = true)]
<Layout>
    <LayoutHeader Margin="Margin.Is3.FromBottom">
        <Bar Breakpoint="Breakpoint.Desktop"
             Background="Background.Light"
             ThemeContrast="ThemeContrast.Light">
            <Branding />
            <BarMenu>
                <BarStart>
                    @foreach (var menuItem in Menu.Items)
                    {
                        @if (menuItem.IsLeaf)
                        {
                            <BarItem>
                                <BarLink To="@(menuItem.Url == null ? "#" : menuItem.Url.TrimStart('/', '~'))" Target="menuItem.Target">
                                    @menuItem.Target<i class="@menuItem.Icon me-1"></i>@menuItem.DisplayName
                                </BarLink>
                            </BarItem>
                        }
                        else
                        {
                            <BarItem>
                                <BarDropdown>
                                    <BarDropdownToggle>
                                        <i class="@menuItem.Icon me-1"></i>@menuItem.DisplayName
                                    </BarDropdownToggle>
                                    <BarDropdownMenu>
                                        @foreach (var childMenuItem in menuItem.Items)
                                        {
                                            <BarDropdownItem>
                                                <i class="@childMenuItem.Icon me-1"></i>@menuItem.DisplayName
                                            </BarDropdownItem>
                                        }
                                    </BarDropdownMenu>
                                </BarDropdown>
                            </BarItem>
                        }
                    }
                </BarStart>
                <BarEnd>
                    @foreach (var render in ToolbarItemRenders)
                    {
                        <BarItem>
                            @render
                        </BarItem>
                    }
                </BarEnd>
            </BarMenu>
        </Bar>
    </LayoutHeader>
    <LayoutContent Margin="Margin.Is3.OnX">
        <PageAlert />
        <LayoutHook Name="@LayoutHooks.Body.First" Layout="@StandardLayouts.Application" />
        @Body
        <LayoutHook Name="@LayoutHooks.Body.Last" Layout="@StandardLayouts.Application" />
        <DynamicLayoutComponent />
        <UiMessageAlert />
        <UiNotificationAlert />
        <UiPageProgress />
    </LayoutContent>
    <LayoutFooter>
        SuperAbp出品
    </LayoutFooter>
</Layout>
